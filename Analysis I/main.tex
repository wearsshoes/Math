\documentclass[notitlepage]{report}
\usepackage{graphicx}
\usepackage{blindtext}
\usepackage[utf8]{inputenc}
\usepackage[]{amsmath}
\usepackage[]{amssymb}
\usepackage[]{amsthm}
\usepackage[]{setspace}
\usepackage[]{tikz}
\usepackage[]{xcolor}
\usepackage[]{enumitem}
\usepackage{titlesec}
\usepackage{geometry}
\usepackage{refcount}
\usepackage{xr}
\usepackage{subfiles} % Best loaded last in the preamble
    
\graphicspath{{images/}}

\title{Analysis I: Exercises}
\author{Rachel Shu}
\date{\today}

%Formatting
\geometry{letterpaper, portrait, margin=1in}
\onehalfspacing
\setlength{\parskip}{1em}
\setlength{\parindent}{0pt}
\setlist[enumerate]{label = \textbf{\alph*.}}
% \let\clearpage\relax

\usetikzlibrary{positioning}
\usetikzlibrary{fit}

% Environments
\newenvironment{q}
    {\begin{bfseries}}
    {\end{bfseries}}

\newenvironment{ans}
    {\begin{textnormal}{\emph{Answer:}}}
    {\end{textnormal}}

\newenvironment{prf}
    {\begin{text}{\emph{Proof.}}}
    {\end{text}}

\newenvironment{xx}
    {
        \color{red}
        \begin{text}
            {\textbf{Scratchpad:}}
    }
    {
        \end{text}
    }

% \renewcommand{\thesection}{\arabic{chapter}.\arabic{section}}
% \titleformat{\section}{\normalfont\fontsize{18}{18}\bfseries}{\thesection}{1em}{}

\renewcommand{\thesubsection}{Exercise \arabic{chapter}.\arabic{section}.\arabic{subsection}}
% \titleformat{\subsection}{\normalfont\fontsize{15}{15}\bfseries}{\thesubsection}{1em}{}

\newif\ifmainfile


\begin{document}
\mainfiletrue

\maketitle
\tableofcontents

\addtocounter{chapter}{2}
\chapter{Set Theory}

\addtocounter{section}{2}
\section{Functions}\label{3.3}
\subfile{Chapters/Chapter 3/3.3.tex}
\section{Images and inverse images}\label{3.4}
\subfile{Chapters/Chapter 3/3.4.tex}

\end{document}